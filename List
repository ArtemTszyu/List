// Example program
#include <iostream>
#include <string>

using namespace std;

struct node_t {
    int value;
    node_t * next;
};

void add(node_t * & head, int value) {
    node_t * node = new node_t;
    node->value = value;
    node->next = nullptr;
    if( head == nullptr) {
        head = node;
    }
    else {
        node_t * last = head;
        while(last->next) {
            last = last->next;
        }
        last->next = node;
    }
}

void subt(node_t * & head) {
    node_t*x=head;
    head=x->next;
    delete x;

}

void reverse()

void print(node_t *&head,int p)
{
    node_t *x=head;
    for(int i = 0 ; i < p ; i++) {
        cout<<"+---+"<<"    ";
    }
    cout << endl;
    int k = 0;
    for(int i = 0 ; i < p; i++)
    {
        if(i > 0) cout<<"--->";
        cout <<"| " << x->value << " |";
        x = x->next;
    }
    cout << endl;
    for(int i = 0 ; i < p ; i++) {
        cout << "+---+"<< "    ";
    }
    cout<<endl;
}

int main(int argc, char** argv) {
    int p=0, ch;
    node_t * head=nullptr;
    print(head,p);
    char op;
    while((cin>>op)&&(op!='q')){
        if (op=='+') {
            cin>>ch;
            add(head,ch);
            p++;
        }
        else if (op=='-'){
            subt(head);
            p--;
        }
        print(head,p);
    }
    return 0;
}
